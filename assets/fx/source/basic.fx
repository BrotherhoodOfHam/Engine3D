/*
	Basic effect - unlit
*/

#include "effect_base.fxh"

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

cbuffer SceneParams : register(b0)
{
	CScene scene;
}

Texture2D tex : register(t0);
SamplerState texSampler : register(s0);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct VSColourInput
{
	float4 pos : POSITION;
	float4 colour : COLOUR;
};

struct PSColourInput
{
	float4 pos : SV_POSITION;
	float4 colour : COLOUR;
};

struct VSTexInput
{
	float4 pos : POSITION;
	float2 texcoord : TEXCOORD;
};

struct PSTexInput
{
	float4 pos : SV_POSITION;
	float2 texcoord : TEXCOORD;
};

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Colour shader
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

PSColourInput VSColour(VSColourInput input)
{
	PSColourInput output = (PSColourInput)0;

	input.pos.w = 1;
	
	output.pos = mul(input.pos, scene.world);
	output.pos = mul(output.pos, scene.view);
	output.pos = mul(output.pos, scene.projection);

	output.colour = input.colour;

	return output;
}

float4 PSColour(PSColourInput input) : SV_Target
{
	return input.colour;
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Texture shader
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

PSTexInput VSTex(VSTexInput input)
{
	PSTexInput output = (PSTexInput)0;

	input.pos.w = 1;
	
	output.pos = mul(input.pos, scene.world);
	output.pos = mul(output.pos, scene.view);
	output.pos = mul(output.pos, scene.projection);

	output.texcoord = input.texcoord;

	return output;
}

float4 PSTex(PSTexInput input) : SV_Target
{
	return tex.Sample(texSampler, input.texcoord);
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////