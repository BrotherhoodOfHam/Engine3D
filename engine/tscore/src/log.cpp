/*
	Logging api
*/

#include <tscore/debug/log.h>
#include <iostream>
#include <sstream>
#include <windows.h>

#include <tscore/system/thread.h>

#include <ctime>
#include <iomanip>

using namespace ts;
using namespace std;

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void CLog::operator()(const SLogMessage& msg)
{
	for (auto s : m_streams)
	{
		s->write(msg);
	}
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////

namespace ts
{
	namespace global
	{
		CLog& getLogger()
		{
			static CLog s_log;
			return s_log;
		}
	}
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////